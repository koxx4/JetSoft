<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/pico.min.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Domine&display=swap" rel="stylesheet">
</head>
<body>
<h1>Lista lotów</h1>
<a class="blue-btn" href="/"><-- Powrót do menu</a>
<div>
    <a class="green-btn" href="/editFlight">Dodaj nowy lot</a>
</div>
<span th:if="${deleted}">Lot pomyślnie usunięty!</span>
<figure>
    <table role="grid">
        <tr>
            <th>L.P.</th>
            <th>Aktywny?</th>
            <th>Kod lotu</th>
            <th>Z</th>
            <th>Do</th>
            <th>Planowany odlot</th>
            <th>Planowany przylot</th>
            <th>Liczba ustalonych miejsc</th>
            <th>Liczba pozostałych miejsc</th>
            <th>Data ostatniej modyfikacji</th>
            <th>Akcje</th>
        </tr>
        <tr th:each="flightRowDto,iterStat : ${flights}">
            <td th:text="${iterStat.count}"></td>
            <td th:text="${flightRowDto.active}? 'TAK' : 'NIE'"></td>
            <td th:text="${flightRowDto.flightNumber}"></td>
            <td th:text="${flightRowDto.sourceCity} + ', ' + ${flightRowDto.sourceNationality}"></td>
            <td th:text="${flightRowDto.destinationCity} + ', ' + ${flightRowDto.destinationNationality}"></td>
            <td th:text="${flightRowDto.plannedDeparture}"></td>
            <td th:text="${flightRowDto.plannedArrival}"></td>
            <td th:text="${flightRowDto.availablePassengersSeats}"></td>
            <td th:text="${flightRowDto.leftPassengersSeats}"></td>
            <td th:text="${flightRowDto.lastModificationDate}"></td>
            <td>
                <a class="yellow-btn" th:href="@{/editFlight(id=${flightRowDto.flightId})}">Zobacz szczegóły i modyfikuj</a>
                <form th:method="delete" th:action="@{/deleteFlight}">
                    <input type="hidden" class="red-btn" name="deleteId"  th:value="${flightRowDto.flightId}">
                    <input type="submit" class="red-btn" value="Usuń lot">
                </form>
            </td>
        </tr>
    </table>
</figure>
</body>
</html>